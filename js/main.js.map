{"version":3,"sources":["global.js","burger.js","cart.js","catalog-filter.js","faq.js","map.js","products.js","quiz.js","range-slider.js","sizes-table.js","validate.js","main.js"],"names":["document","documentElement","style","setProperty","window","innerHeight","observer","lozad","rootMargin","observe","burgerBtn","querySelector","addEventListener","e","currentTarget","classList","toggle","querySelectorAll","forEach","el","contains","remove","cartBtn","miniCart","miniCartList","removeEventListener","listener1","listener2","add","target","closest","changeStateCartBtn","children","length","setAttribute","removeAttribute","catalogList","catalogFilters","prices","male","female","sizes","sizesMaxCount","getFilters","Array","from","map","parseInt","value","replace","checked","textContent","resetFilters","setRangeSlider","minPrice","maxPrice","filterProduct","item","checkSizes","i","j","price","Object","keys","chars","some","key","lazyProds","reloadProducts","accordions","self","control","content","maxHeight","scrollHeight","init","fetch","then","response","json","data","ymaps","Map","center","coords","zoom","body","clientWidth","controls","behaviors","restrictMapArea","placeMarks","dataItem","Placemark","iconCaption","balloonContent","balloon","type","preset","events","getZoom","setZoom","setCenter","geoObjects","Clusterer","backgroundImage","loadMoreBtn","prodModal","cartModal","prodModalSlider","prodModalInfo","prodModalDescr","prodModalChars","prodModalPreview","prodModalNote","prodModalVideo","prodModalBtn","fullPrice","modal","loadProducts","quantityToShow","prodQuantity","dataLength","resetProdModal","innerHTML","display","disabled","areAvailable","prodSlider","Swiper","slidesPerView","spaceBetween","GraphModal","isOpen","element","modalContainer","openBtnId","previousActiveElement","dataset","id","loadModalData","console","log","focusTrap","quantity","listCart","slice","call","getFirteredProdIds","arr","push","filteredProdIds","includes","isInCart","splice","mainImage","title","toLocaleString","needCartLogic","productBtns","cartLogic","slides","gallery","image","idx","preview","size","note","not","join","vendor","oldPrice","description","charsItems","video","event","open","src","setProgress","on","index","slideTo","update","totalPrice","plusTotalPrice","minusTotalPrice","printTotalPrice","printQuantity","cartCount","loadCartData","insertAdjacentHTML","updateStorage","initialState","localStorage","getItem","JSON","parse","reverse","ids","setItem","stringify","removeItem","productBtn","parentProduct","openModalOrder","cartOrder","cartOrderList","cartOrderShow","productHtml","orderQuantity","orderSumm","close","lazyQuiz","quizData","number","answer_alias","answers","answer_title","quizTemplate","options","nextBtnText","Quiz","selector","$el","counter","resultArray","tmp","valid","lastQuestion","addToSend","nextQuestion","send","tagName","elements","serialize","textarea","isValid","nodeName","formData","FormData","obj","append","substring","method","form","field","s","valueString","len","name","selected","encodeURIComponent","quiz","sendBtnText","rangeSlider","getElementById","setRange","noUiSlider","updateOptions","range","min","max","set","create","start","connect","step","input0","input1","inputs","values","handle","Math","round","sizesBtnsNodeList","sizesBtns","prototype","btn","Inputmask","mask","productsFormData","validateForms","rules","messages","colorValue","succesModal","yaGoal","JustValidate","colorWrong","submitHandler","xhr","XMLHttpRequest","onreadystatechange","readyState","status","reset","required","phone","getComputedStyle","getPropertyValue","email"],"mappings":"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","file":"main.js","sourcesContent":["document.documentElement.style.setProperty(\n  \"--vh\",\n  `${window.innerHeight * 0.01}px`\n);\n\nconst observer = lozad(\".lozad\", {\n  rootMargin: \"50% 0px\",\n});\nobserver.observe();\n","const burgerBtn = document.querySelector(\".burger\");\n\nburgerBtn.addEventListener(\"click\", (e) => {\n  e.currentTarget.classList.toggle(\"active\");\n  document.querySelector(\".header__nav\").classList.toggle(\"active\");\n  document.querySelector(\"body\").classList.toggle(\"lock\");\n});\n\ndocument.querySelectorAll(\".nav__item\").forEach((el) => {\n  el.addEventListener(\"click\", (e) => {\n    if (burgerBtn.classList.contains(\"active\")) {\n      burgerBtn.classList.remove(\"active\");\n      document.querySelector(\".header__nav\").classList.remove(\"active\");\n      document.querySelector(\"body\").classList.remove(\"lock\");\n    }\n  });\n});\n","const cartBtn = document.querySelector(\".cart__btn\");\nconst miniCart = document.querySelector(\".mini-cart\");\nconst miniCartList = document.querySelector(\".mini-cart__list\");\n\ncartBtn.addEventListener(\"click\", () => {\n  cartBtn.classList.toggle(\"cart__btn_clicked\");\n  cartBtn.removeEventListener(\"mouseover\", listener1);\n  cartBtn.removeEventListener(\"mouseout\", listener2);\n\n  if (cartBtn.classList.contains(\"cart__btn_clicked\")) {\n    miniCart.classList.add(\"mini-cart_visible\");\n  } else {\n    cartBtn.addEventListener(\"mouseover\", listener1);\n    cartBtn.addEventListener(\"mouseout\", listener2);\n    miniCart.classList.remove(\"mini-cart_visible\");\n  }\n});\n\nconst listener1 = () => {\n  miniCart.classList.add(\"mini-cart_visible\");\n};\n\nconst listener2 = () => {\n  miniCart.classList.remove(\"mini-cart_visible\");\n};\n\ncartBtn.addEventListener(\"mouseover\", listener1);\ncartBtn.addEventListener(\"mouseout\", listener2);\n\ndocument.addEventListener(\"click\", (e) => {\n  if (!e.target.classList.contains(\"mini-product__delete\")) {\n    if (\n      !e.target.classList.contains(\"mini-cart\") &&\n      !e.target.classList.contains(\"cart__btn\") &&\n      !e.target.closest(\".mini-cart\")\n    ) {\n      cartBtn.addEventListener(\"mouseover\", listener1);\n      cartBtn.addEventListener(\"mouseout\", listener2);\n      miniCart.classList.remove(\"mini-cart_visible\");\n      cartBtn.classList.remove(\"cart__btn_clicked\");\n    }\n  }\n});\n\nconst changeStateCartBtn = () => {\n  if (miniCartList.children.length <= 0) {\n    cartBtn.setAttribute(\"disabled\", \"disabled\");\n    cartBtn.classList.remove(\"cart__btn_clicked\");\n  } else {\n    cartBtn.removeAttribute(\"disabled\");\n  }\n};\n","const catalogList = document.querySelector(\".catalog-list\");\nconst catalogFilters = document.querySelector(\".catalog-filters\");\n\nlet prices = [1, 999999];\nlet male = false;\nlet female = false;\nlet sizes = [];\nlet sizesMaxCount = catalogFilters.querySelectorAll(\".sizes-table__btn\").length;\n\nconst getFilters = () => {\n  prices = Array.from(\n    catalogFilters.querySelectorAll(\".catalog-price__input\")\n  ).map((el) => {\n    return parseInt(el.value.replace(/\\s/g, \"\"));\n  });\n  male = catalogFilters.querySelector(\".catalog-filters__male\").checked;\n  female = catalogFilters.querySelector(\".catalog-filters__female\").checked;\n\n  sizes = Array.from(\n    catalogFilters.querySelectorAll(\".sizes-table__btn_active\")\n  ).map((el) => {\n    return parseInt(el.textContent);\n  });\n};\n\nconst resetFilters = () => {\n  setRangeSlider(0, minPrice);\n  setRangeSlider(1, maxPrice);\n\n  catalogFilters.querySelector(\".catalog-filters__male\").checked = false;\n  catalogFilters.querySelector(\".catalog-filters__female\").checked = false;\n\n  catalogFilters.querySelectorAll(\".sizes-table__btn_active\").forEach((el) => {\n    el.classList.remove(\"sizes-table__btn_active\");\n  });\n\n  prices = [1, 999999];\n  male = false;\n  female = false;\n  sizes = [];\n};\n\nconst filterProduct = (item) => {\n  const checkSizes = () => {\n    if (sizes.length > 0 && sizes.length < sizesMaxCount) {\n      for (let i = 0; i < sizes.length; i++) {\n        for (let j = 0; j < item.sizes.length; j++) {\n          if (sizes[i] === item.sizes[j]) {\n            return true;\n          }\n        }\n      }\n    } else {\n      return true;\n    }\n  };\n\n  if (item.price >= prices[0] && item.price <= prices[1]) {\n    if ((male && female) || (!male && !female)) {\n      return checkSizes();\n    } else {\n      if (\n        Object.keys(item.chars).some((key) => {\n          if (key === \"Пол\") {\n            if (\n              (male && item.chars[key] === \"Мужской\") ||\n              (female && item.chars[key] === \"Женский\")\n            ) {\n              return true;\n            }\n            return false;\n          }\n          return false;\n        })\n      ) {\n        return checkSizes();\n      }\n\n      return false;\n    }\n  }\n  return false;\n};\n\ncatalogFilters\n  .querySelector(\".catalog__apply\")\n  .addEventListener(\"click\", () => {\n    lazyProds = false;\n    getFilters();\n    reloadProducts();\n  });\n\ncatalogFilters\n  .querySelector(\".catalog__reset\")\n  .addEventListener(\"click\", () => {\n    lazyProds = false;\n    resetFilters();\n    reloadProducts();\n  });\n","const accordions = document.querySelectorAll(\".faq-accordion\");\n\naccordions.forEach((el) => {\n  el.addEventListener(\"click\", (e) => {\n    const self = e.currentTarget;\n    const control = self.querySelector(\".faq-accordion__control\");\n    const content = self.querySelector(\".faq-accordion__content\");\n\n    self.classList.toggle(\"open\");\n\n    if (self.classList.contains(\"open\")) {\n      control.setAttribute(\"aria-expanded\", true);\n      content.setAttribute(\"aria-hidden\", false);\n      content.style.maxHeight = content.scrollHeight + \"px\";\n    } else {\n      control.setAttribute(\"aria-expanded\", false);\n      content.setAttribute(\"aria-hidden\", true);\n      content.style.maxHeight = null;\n    }\n  });\n});\n","// ymaps.ready(init);\n\nfunction init() {\n  fetch(\"data/data-map-settings.json\")\n    .then((response) => {\n      return response.json();\n    })\n    .then((data) => {\n      const map = new ymaps.Map(\n        \"map\",\n        {\n          center: data[0].coords,\n          zoom:\n            document.body.clientWidth > 576 ? data[0].zoom : data[0].zoom - 1,\n          controls: [\"zoomControl\"],\n          behaviors: [\"drag\", \"dblClickZoom\", \"multiTouch\"],\n        },\n        {\n          restrictMapArea: [\n            [59.738, 29.611],\n            [60.056, 30.829],\n          ],\n        }\n      );\n\n      const placeMarks = new Array(data.length - 1);\n\n      for (let i = 1; i < data.length; i++) {\n        const dataItem = data[i];\n        placeMarks[i - 1] = new ymaps.Placemark(\n          dataItem.coords,\n          {\n            iconCaption: dataItem.iconCaption,\n            balloonContent: dataItem.balloon,\n          },\n          dataItem.type == \"main\" ? { preset: \"islands#redIcon\" } : {}\n        );\n        placeMarks[i - 1].events.add(\"click\", () => {\n          if (map.getZoom() < 16) {\n            map.setZoom(16);\n          }\n          map.setCenter(dataItem.coords);\n        });\n      }\n\n      map.geoObjects.add(new ymaps.Clusterer({}).add(placeMarks));\n    })\n    .then(() => {\n      map.style.backgroundImage = \"none\";\n    });\n}\n","const catalogList = document.querySelector(\".catalog-list\");\n\nconst loadMoreBtn = document.querySelector(\".catalog__more\");\nconst prodModal = document.querySelector(\n  `[data-graph-target=\"prod-modal\"] .modal-content`\n);\nconst cartModal = document.querySelector(\n  `[data-graph-target=\"cart-modal\"] .modal-content`\n);\nconst prodModalSlider = prodModal.querySelector(\n  \".modal-slider .swiper-wrapper\"\n);\nconst prodModalInfo = prodModal.querySelector(\".modal-info__wrapper\");\nconst prodModalDescr = prodModal.querySelector(\".modal-prod-descr\");\nconst prodModalChars = prodModal.querySelector(\".prod-chars\");\nconst prodModalPreview = prodModal.querySelector(\".modal-preview\");\nconst prodModalNote = prodModal.querySelector(\".modal-note\");\nconst prodModalVideo = prodModal.querySelector(\".prod-modal__video\");\nconst prodModalBtn = prodModal.querySelector(\".modal-info__order\");\n\nconst fullPrice = document.querySelector(\".mini-cart__summ\");\n\nlet lazyProds = true;\nlet modal;\nlet loadProducts;\nconst quantityToShow = 6;\nlet prodQuantity = quantityToShow;\nlet dataLength = null;\n\nconst reloadProducts = () => {\n  prodQuantity = quantityToShow;\n  loadProducts(prodQuantity);\n};\n\nconst resetProdModal = () => {\n  prodModalSlider.innerHTML = \"\";\n  prodModalInfo.innerHTML = \"\";\n  prodModalDescr.textContent = \"\";\n  prodModalChars.innerHTML = \"\";\n  prodModalPreview.innerHTML = \"\";\n  prodModalNote.innerHTML = \"\";\n  prodModalVideo.innerHTML = \"\";\n  prodModalVideo.style.display = \"none\";\n  prodModalBtn.disabled = \"true\";\n};\n\nif (catalogList) {\n  let areAvailable = false;\n\n  const prodSlider = new Swiper(\".modal-slider__container\", {\n    slidesPerView: 1,\n    spaceBetween: 20,\n  });\n\n  modal = new GraphModal({\n    isOpen: (modal) => {\n      if (document.body.clientWidth > 768) {\n        modal.modal.querySelectorAll(\".modal__close\").forEach((element) => {\n          element.setAttribute(\"disabled\", \"disabled\");\n        });\n      }\n      if (modal.modalContainer.classList.contains(\"prod-modal\")) {\n        const openBtnId = modal.previousActiveElement.dataset.id;\n        if (openBtnId) {\n          loadModalData(openBtnId);\n        } else {\n          console.log(modal);\n          if (modal.previousActiveElement === document.querySelector(\"body\"))\n            console.log(111);\n        }\n      }\n\n      if (modal.modalContainer.classList.contains(\"cart-modal\")) {\n        modal.isOpen = true;\n        modal.focusTrap();\n      }\n    },\n  });\n\n  loadProducts = (quantity) => {\n    fetch(\"data/data-prods.json\")\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        dataLength = data.length;\n\n        catalogList.innerHTML = \"\";\n\n        const listCart = [].slice.call(miniCartList.children);\n\n        const getFirteredProdIds = () => {\n          let arr = [];\n          for (let i = 0; i < dataLength; i++) {\n            const item = data[i];\n            if (filterProduct(item)) {\n              arr.push(item.id);\n            }\n          }\n          return arr;\n        };\n\n        const filteredProdIds = getFirteredProdIds();\n\n        if (filteredProdIds.length > 0) {\n          document.querySelector(\".catalog__not-found-message\").style.display =\n            \"none\";\n          document.querySelector(\".catalog__grid\").style.display = \"flex\";\n        } else {\n          document.querySelector(\".catalog__grid\").style.display = \"none\";\n          document.querySelector(\".catalog__not-found-message\").style.display =\n            \"inline\";\n          return false;\n        }\n\n        if (quantity >= filteredProdIds.length) {\n          quantity = filteredProdIds.length;\n          loadMoreBtn.style.display = \"none\";\n        } else {\n          loadMoreBtn.style.display = \"block\";\n        }\n\n        for (let i = 0; i < dataLength; i++) {\n          if (i < quantity) {\n            const item = data[i];\n\n            if (!filteredProdIds.includes(item.id)) {\n              quantity++;\n              continue;\n            }\n\n            let isInCart = false;\n\n            for (let i = 0; i < listCart.length; i++) {\n              if (listCart[i].dataset.id == item.id) {\n                isInCart = true;\n                listCart.splice(i, 1);\n                break;\n              }\n            }\n\n            catalogList.innerHTML += `\n              <li class=\"catalog-list__item\">\n                <article class=\"product\">\n                  <div class=\"product__image\">\n                  ${\n                    lazyProds\n                      ? `\n                    <img\n                     src=\"${item.mainImage}\"\n                     class=\"lozad\"\n                     data-srcset=\"${item.mainImage} 100w\"\n                     srcset=\"img/placeholder.svg 100w\"\n                     sizes=\"100vw\"\n                     alt=\"${item.title}\"\n                   />\n                  `\n                      : `\n                    <img\n                      src=\"${item.mainImage}\"\n                      alt=\"${item.title}\"\n                   />\n                  `\n                  }\n                    <div class=\"product__btns\">\n                      <button\n                        class=\"btn-reset product__btn product__btn_info\"\n                        aria-label=\"Показать информацию о товаре\"\n                        data-graph-path=\"prod-modal\"\n                        data-id=\"${item.id}\"\n                      >\n                        <svg>\n                          <use href=\"img/sprite.svg#eye\"></use>\n                        </svg>\n                      </button>\n                      <button\n                        class=\"btn-reset product__btn product__btn_cart\"\n                        aria-label=\"Добавить товар в корзину\"\n                        data-id=\"${item.id}\"\n                        ${isInCart ? `disabled=\"disabled\"` : \"\"}\n                      >\n                      <svg>\n                        <use href=\"img/sprite.svg#cart\"></use>\n                      </svg>\n                    </button>\n                  </div>\n                </div>\n                <button href=\"#\" class=\"product__title btn-reset\"\n                  tabindex=\"-1\"\n                  data-graph-path=\"prod-modal\"\n                  data-id=\"${item.id}\">\n                  ${item.title}\n                </button>\n                <span class=\"product__price\">${item.price.toLocaleString()} р</span>\n              </article>\n            </li>\n            `;\n            observer.observe();\n          }\n        }\n        return true;\n      })\n      .then((needCartLogic) => {\n        const productBtns = catalogList.querySelectorAll(\".product__btn\");\n        productBtns.forEach((element) => {\n          element.addEventListener(\n            \"focus\",\n            (e) => {\n              e.currentTarget\n                .closest(\".product__btns\")\n                .classList.add(\"product__btns_active\");\n            },\n            true\n          );\n        });\n\n        productBtns.forEach((element) => {\n          element.addEventListener(\n            \"blur\",\n            (e) => {\n              e.currentTarget\n                .closest(\".product__btns\")\n                .classList.remove(\"product__btns_active\");\n            },\n            true\n          );\n        });\n        if (needCartLogic) {\n          cartLogic();\n        }\n      });\n  };\n\n  const loadModalData = (id = 1) => {\n    fetch(\"data/data-prods.json\")\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        resetProdModal();\n\n        for (let dataItem of data) {\n          if (dataItem.id == id) {\n            const slides = dataItem.gallery.map((image, idx) => {\n              return `\n              <div class=\"swiper-slide\" ondragstart=\"return false\" data-index=\"${idx}\">\n               <img src=\"${image}\" alt=\"\">\n              </div>\n              `;\n            });\n\n            const preview = dataItem.gallery.map((image, idx) => {\n              return `\n              <button class=\"btn-reset modal-preview__item\n              ${idx === 0 ? \"modal-preview__item_active\" : \"\"}\"\n              data-index=\"${idx}\">\n                <img src=\"${image}\" alt=\"\">\n              </button>\n              `;\n            });\n\n            const sizes = dataItem.sizes.map((size) => {\n              return `\n              <li class=\"modal-sizes__item\">\n               <button class=\"modal-sizes__btn btn-reset\">${size}</button>\n              </li>\n              `;\n            });\n\n            let note;\n            if (dataItem.note) {\n              note = dataItem.note.map((not) => {\n                return `\n                  <li class=\"modal-note__item\">${not}\n                    <svg class=\"modal-note__check\" aria-hidden=\"true\">\n                      <use href=\"img/sprite.svg#check\"></use>\n                    </svg>\n                  </li>\n                `;\n              });\n            }\n\n            prodModalSlider.innerHTML = slides.join(\"\");\n            prodModalPreview.innerHTML = preview.join(\"\");\n\n            if (dataItem.quantity == 0) {\n              areAvailable = false;\n            } else {\n              areAvailable = true;\n            }\n\n            prodModalInfo.innerHTML = `\n              <div class=\"modal-info__top\">\n                <span class=\"modal-info__vendor\">Артикул:\n                  ${dataItem.vendor}</span>\n                <div class=\"modal-info__quantity\">\n                  ${\n                    areAvailable\n                      ? `В наличии: <span>${dataItem.quantity} шт</span>`\n                      : \"Нет в наличии\"\n                  }\n               </div>\n              </div>\n              <h3 class=\"modal-info__title\">\n                ${dataItem.title}\n              </h3>\n              <div class=\"modal-info__rating\">\n                <svg aria-label=\"Рейтинг 5 из 5\">\n                 <use href=\"img/sprite.svg#star\"></use>\n                </svg>\n                <svg>\n                  <use href=\"img/sprite.svg#star\"></use>\n                </svg>\n                <svg>\n                 <use href=\"img/sprite.svg#star\"></use>\n                </svg>\n                <svg>\n                  <use href=\"img/sprite.svg#star\"></use>\n                </svg>\n                <svg>\n                  <use href=\"img/sprite.svg#star\"></use>\n                </svg>\n              </div>\n              <div class=\"modal-info__sizes\">\n                <span class=\"modal-info__subtitle\">Выберите размер</span>\n                <ul class=\"list-reset modal-info__sizes-list modal-sizes\">\n                 ${sizes.join(\"\")}\n                </ul>\n              </div>\n              <div class=\"modal-info__price\">\n                <span class=\"modal-info__current-price\">${dataItem.price.toLocaleString()} р</span>\n                <span class=\"modal-info__old-price\">\n                  ${\n                    dataItem.oldPrice\n                      ? dataItem.oldPrice.toLocaleString() + \" р\"\n                      : \"\"\n                  }\n                </span>\n              </div>\n            `;\n\n            if (areAvailable) {\n              prodModalBtn.removeAttribute(\"disabled\");\n            } else {\n              prodModalBtn.setAttribute(\"disabled\", \"disabled\");\n            }\n\n            prodModalNote.innerHTML = `${note ? note.join(\"\") : \"\"}`;\n            prodModalDescr.textContent = `${dataItem.description}`;\n\n            let charsItems = \"\";\n            Object.keys(dataItem.chars).forEach((key) => {\n              charsItems += `<p class=\"prod-bottom__descr modal-prod-descr\">${key}: ${dataItem.chars[key]}</p>`;\n            });\n\n            prodModalChars.innerHTML = charsItems;\n\n            if (dataItem.video) {\n              prodModalVideo.style.display = \"block\";\n              prodModalVideo.innerHTML = `\n              <iframe\n              src=\"${dataItem.video}\"\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n              allowfullscreen></iframe>\n            `;\n            } else {\n              prodModalVideo.style.display = \"none\";\n            }\n            break;\n          }\n        }\n      })\n      .then(() => {\n        modal.focusTrap();\n        prodModal.querySelectorAll(\".modal-sizes__btn\").forEach((el) => {\n          el.addEventListener(\"click\", (e) => {\n            if (e.target.classList.contains(\"modal-sizes__btn_active\")) {\n              e.target.classList.remove(\"modal-sizes__btn_active\");\n            } else {\n              prodModal\n                .querySelectorAll(\".modal-sizes__btn_active\")\n                .forEach((el) => {\n                  el.classList.remove(\"modal-sizes__btn_active\");\n                });\n              e.target.classList.add(\"modal-sizes__btn_active\");\n            }\n          });\n        });\n\n        prodModal.querySelectorAll(\".swiper-slide\").forEach((el) => {\n          el.addEventListener(\"click\", function (event) {\n            window.open(event.target.src);\n          });\n        });\n        prodSlider.setProgress(0);\n        prodSlider.on(\"slideChangeTransitionStart\", function () {\n          let idx = prodModal.querySelector(\".swiper-slide-active\").dataset\n            .index;\n\n          prodModal.querySelectorAll(\".modal-preview__item\").forEach((el) => {\n            el.classList.remove(\"modal-preview__item_active\");\n          });\n\n          prodModal\n            .querySelector(`.modal-preview__item[data-index=\"${idx}\"]`)\n            .classList.add(\"modal-preview__item_active\");\n        });\n\n        prodModal.querySelectorAll(\".modal-preview__item\").forEach((el) => {\n          el.addEventListener(\"click\", (e) => {\n            const idx = parseInt(e.currentTarget.dataset.index);\n\n            prodModal.querySelectorAll(\".modal-preview__item\").forEach((el) => {\n              el.classList.remove(\"modal-preview__item_active\");\n            });\n\n            e.currentTarget.classList.add(\"modal-preview__item_active\");\n\n            prodSlider.slideTo(idx);\n          });\n        });\n\n        prodSlider.update();\n      });\n  };\n\n  loadMoreBtn.addEventListener(\"click\", () => {\n    lazyProds = false;\n    prodQuantity += prodQuantity;\n\n    if (prodQuantity >= dataLength) {\n      prodQuantity = dataLength;\n      loadMoreBtn.style.display = \"none\";\n    } else {\n      loadMoreBtn.style.display = \"block\";\n    }\n\n    loadProducts(prodQuantity);\n  });\n\n  let totalPrice = 0;\n\n  const plusTotalPrice = (price) => {\n    totalPrice += price;\n  };\n\n  const minusTotalPrice = (price) => {\n    totalPrice -= price;\n  };\n\n  const printTotalPrice = () => {\n    fullPrice.textContent = `${totalPrice.toLocaleString()} р`;\n  };\n\n  const printQuantity = (quantity) => {\n    if (quantity > 0) {\n      cartCount.classList.add(\"cart__count_visible\");\n    } else {\n      cartCount.classList.remove(\"cart__count_visible\");\n      cartCount.textContent = \"\";\n      return;\n    }\n\n    cartCount.textContent = quantity;\n  };\n\n  const cartCount = document.querySelector(\".cart__count\");\n  const miniCartList = document.querySelector(\".mini-cart__list\");\n\n  const loadCartData = (id) => {\n    fetch(\"data/data-prods.json\")\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        for (let dataItem of data) {\n          if (dataItem.id == id) {\n            miniCartList.insertAdjacentHTML(\n              \"afterbegin\",\n              `\n            <li class=\"mini-cart__item\" data-id=\"${dataItem.id}\">\n              <article class=\"mini-cart__product mini-product\">\n                <button tabindex=\"-1\" class=\"mini-product__image btn-reset\" data-graph-path=\"prod-modal\" data-id=\"${\n                  dataItem.id\n                }\">\n                  <img src=\"${dataItem.mainImage}\" alt=\"${dataItem.title}\">\n                </button>\n                <div class=\"mini-product__content\">\n                  <div class=\"mini-product__text\">\n                    <button class=\"mini-product__title btn-reset\" data-graph-path=\"prod-modal\" data-id=\"${\n                      dataItem.id\n                    }\">${dataItem.title}</button>\n                    <span class=\"mini-product__price\">${dataItem.price.toLocaleString()} р</span>\n                  </div>\n                  <button class=\"mini-product__delete btn-reset\" aria-label=\"Удалить товар\">Удалить\n                    <svg>\n                      <use href=\"img/sprite.svg#trash\"></use>\n                    </svg>\n                  </button>\n                </div>\n              </article>\n            </li>\n          `\n            );\n            return dataItem.price;\n          }\n        }\n      })\n      .then((price) => {\n        updateStorage();\n        plusTotalPrice(price);\n        printTotalPrice();\n        changeStateCartBtn();\n        printQuantity(\n          miniCartList.querySelectorAll(\".mini-cart__list .mini-cart__item\")\n            .length\n        );\n      });\n  };\n\n  const initialState = () => {\n    if (localStorage.getItem(\"productsIds\") != null) {\n      JSON.parse(localStorage.getItem(\"productsIds\"))\n        .reverse()\n        .forEach((el) => {\n          loadCartData(el);\n        });\n    }\n  };\n\n  initialState();\n\n  const updateStorage = () => {\n    const ids = [];\n    miniCartList.querySelectorAll(\".mini-cart__item\").forEach((el) => {\n      ids.push(el.dataset.id);\n    });\n\n    if (ids.length > 0) {\n      localStorage.setItem(\"productsIds\", JSON.stringify(ids));\n    } else {\n      localStorage.removeItem(\"productsIds\");\n    }\n  };\n\n  const cartLogic = () => {\n    const productBtn = document.querySelectorAll(\".product__btn_cart\");\n\n    productBtn.forEach((el) => {\n      el.addEventListener(\"click\", (e) => {\n        const id = e.currentTarget.dataset.id;\n        loadCartData(id);\n        e.currentTarget.setAttribute(\"disabled\", \"disabled\");\n      });\n    });\n  };\n\n  miniCartList.addEventListener(\"click\", (e) => {\n    if (e.target.classList.contains(\"mini-product__delete\")) {\n      const self = e.target;\n      const parentProduct = self.closest(\".mini-cart__item\");\n      const price = parseInt(\n        parentProduct\n          .querySelector(\".mini-product__price\")\n          .textContent.replace(/\\s/g, \"\")\n      );\n      const id = parentProduct.dataset.id;\n\n      const cartBtn = catalogList.querySelector(\n        `.product__btn_cart[data-id=\"${id}\"]`\n      );\n      if (cartBtn) {\n        cartBtn.removeAttribute(\"disabled\");\n      }\n\n      minusTotalPrice(price);\n      printTotalPrice();\n      parentProduct.remove();\n\n      const quantity = miniCartList.querySelectorAll(\n        \".mini-cart__list .mini-cart__item\"\n      ).length;\n      changeStateCartBtn();\n      printQuantity(quantity);\n\n      if (quantity <= 0) {\n        miniCart.classList.remove(\"mini-cart_visible\");\n      }\n\n      updateStorage();\n    }\n  });\n\n  const openModalOrder = miniCart.querySelector(\".mini-cart__btn\");\n  const cartOrder = document.querySelector(\".cart-order\");\n  const cartOrderList = cartOrder.querySelector(\".cart-order__list\");\n  const cartOrderShow = cartOrder.querySelector(\".cart-order__show\");\n\n  openModalOrder.addEventListener(\"click\", () => {\n    const productHtml = miniCartList.innerHTML;\n    const orderQuantity = cartOrder.querySelector(\".cart-order__quantity span\");\n    const orderSumm = cartOrder.querySelector(\".cart-order__summ span\");\n\n    cartOrderList.innerHTML = productHtml;\n    orderQuantity.textContent = `${\n      miniCartList.querySelectorAll(\".mini-cart__list .mini-cart__item\").length\n    } шт`;\n    orderSumm.textContent = fullPrice.textContent;\n  });\n\n  cartOrderShow.addEventListener(\"click\", () => {\n    cartOrderList.classList.toggle(\"cart-order__list_visible\");\n    cartOrderShow.classList.toggle(\"cart-order__show_active\");\n  });\n\n  cartOrderList.addEventListener(\"click\", (e) => {\n    if (e.target.classList.contains(\"mini-product__delete\")) {\n      const self = e.target;\n      const parentProduct = self.closest(\".mini-cart__item\");\n      const price = parseInt(\n        parentProduct\n          .querySelector(\".mini-product__price\")\n          .textContent.replace(/\\s/g, \"\")\n      );\n      const id = parentProduct.dataset.id;\n\n      catalogList\n        .querySelector(`.product__btn_cart[data-id=\"${id}\"]`)\n        .removeAttribute(\"disabled\");\n\n      minusTotalPrice(price);\n      printTotalPrice();\n      cartOrder.querySelector(\".cart-order__summ span\").textContent =\n        fullPrice.textContent;\n\n      parentProduct.remove();\n      miniCartList\n        .querySelector(\n          `.mini-cart__item[data-id=\"${parentProduct.dataset.id}\"]`\n        )\n        .remove();\n\n      const quantity = miniCartList.querySelectorAll(\n        \".mini-cart__list .mini-cart__item\"\n      ).length;\n      changeStateCartBtn();\n      printQuantity(quantity);\n      cartOrder.querySelector(\n        \".cart-order__quantity span\"\n      ).textContent = `${cartCount.textContent} шт`;\n\n      if (quantity <= 0) {\n        miniCart.classList.remove(\"mini-cart_visible\");\n        modal.close();\n      }\n\n      updateStorage();\n    }\n  });\n}\n","let lazyQuiz = true;\n\nconst quizData = [\n  {\n    number: 1,\n    title: \"Какой тип кроссовок рассматриваете?\",\n    answer_alias: \"type\",\n    answers: [\n      {\n        answer_title: \"кеды\",\n        type: \"checkbox\",\n      },\n      {\n        answer_title: \"кеды\",\n        type: \"checkbox\",\n      },\n      {\n        answer_title: \"кеды\",\n        type: \"checkbox\",\n      },\n      {\n        answer_title: \"кеды\",\n        type: \"checkbox\",\n      },\n      {\n        answer_title: \"кеды\",\n        type: \"checkbox\",\n      },\n      {\n        answer_title: \"кеды\",\n        type: \"checkbox\",\n      },\n    ],\n  },\n  {\n    number: 2,\n    title: \"Какой размер вам подойдет?\",\n    answer_alias: \"size\",\n    answers: [\n      {\n        answer_title: \"менее 36\",\n        type: \"checkbox\",\n      },\n      {\n        answer_title: \"36-38\",\n        type: \"checkbox\",\n      },\n      {\n        answer_title: \"39-41\",\n        type: \"checkbox\",\n      },\n      {\n        answer_title: \"42-44\",\n        type: \"checkbox\",\n      },\n      {\n        answer_title: \"45 и больше\",\n        type: \"checkbox\",\n      },\n    ],\n  },\n  {\n    number: 3,\n    title: \"Уточните какие-либо моменты (необязательно)\",\n    answer_alias: \"message\",\n    answers: [\n      {\n        answer_title: \"Введите сообщение\",\n        type: \"textarea\",\n      },\n    ],\n  },\n];\n\nconst quizTemplate = (data = [], dataLength = 0, options) => {\n  const { number, title } = data;\n  const { nextBtnText } = options;\n  const answers = data.answers.map((item) => {\n    if (item.type === \"checkbox\") {\n      return `\n      <li class=\"quiz-question__item\">\n        <label class=\"custom-checkbox quiz-question__label\">\n          <div class=\"quiz-question__image\">\n          ${\n            lazyQuiz\n              ? `\n            <img\n              src=\"img/sneaker.jpg\"\n              class=\"lozad\"\n              data-srcset=\"img/sneaker.jpg 100w\"\n              srcset=\"img/placeholder.svg 100w\"\n              sizes=\"100vw\"\n              alt=\"${item.title}\"\n            />\n          `\n              : `\n            <img\n              src=\"img/sneaker.jpg\"\n              alt=\"${item.title}\"\n            />\n          `\n          }\n          </div>\n          <input type=\"${item.type}\"\n            class=\"custom-checkbox__field quiz-question__answer\"\n            data-valid=\"false\"\n            name=\"${data.answer_alias}\"\n            ${item.type == \"text\" ? 'placeholder=\"Введите ваш вариант\"' : \"\"}\n            value=\"${item.type !== \"text\" ? item.answer_title : \"\"}\">\n          <span class=\"custom-checkbox__content\">${item.answer_title}</span>\n        </label>\n      </li>`;\n    }\n    if (item.type === \"textarea\") {\n      return `\n      <li class=\"quiz-question__item\">\n        <label class=\"quiz-question__label\">\n          <textarea class=\"quiz-question__message\" placeholder=\"${item.answer_title}\"></textarea>\n        </label>\n      </li>`;\n    }\n    return `\n    <li class=\"quiz-question__item\">\n      <label class=\"quiz-question__label\">\n        <input type=\"${item.type}\"\n          data-valid=\"false\"\n          class=\"quiz-question__answer\"\n          name=\"${data.answer_alias}\"\n          ${item.type == \"text\" ? 'placeholder=\"Введите ваш вариант\"' : \"\"}\n          value=\"${item.type !== \"text\" ? item.answer_title : \"\"}\">\n        <span>${item.answer_title}</span>\n      </label>\n    </li>`;\n  });\n\n  return `\n    <h3 class=\"quiz-question__title\">${title}</h3>\n    <ul class=\"quiz-question__answers list-reset\">\n      ${answers.join(\"\")}\n    </ul>\n    <div class=\"quiz-bottom\">\n      <div class=\"quiz-question__count\">${number} из ${dataLength}</div>\n      <button type=\"button\" class=\"btn btn-reset btn_thirdly quiz-question__btn\" data-next-btn>${nextBtnText}</button>\n    </div>\n\t`;\n};\n\nclass Quiz {\n  constructor(selector, data, options) {\n    this.$el = document.querySelector(selector);\n    this.options = options;\n    this.data = data;\n    this.counter = 0;\n    this.dataLength = this.data.length;\n    this.resultArray = [];\n    this.tmp = {};\n    this.init();\n    this.events();\n  }\n\n  init() {\n    this.$el.innerHTML = quizTemplate(\n      this.data[this.counter],\n      this.dataLength,\n      this.options\n    );\n    if (lazyQuiz) {\n      observer.observe();\n    }\n  }\n\n  nextQuestion() {\n    if (this.valid()) {\n      if (this.counter + 1 < this.dataLength) {\n        this.counter++;\n        this.$el.innerHTML = quizTemplate(\n          this.data[this.counter],\n          this.dataLength,\n          this.options\n        );\n        if (lazyQuiz) {\n          observer.observe();\n        }\n\n        if (this.counter + 1 == this.dataLength) {\n          document.querySelector(\".quiz-question__answers\").style.display =\n            \"block\";\n        }\n      } else {\n        document.querySelector(\".quiz-questions\").style.display = \"none\";\n        const lastQuestion = document.querySelector(\".last-question\");\n        lastQuestion.innerHTML = `\n          <div class=\"last-question__form\">\n            <h3 class=\"last-question__title\">Получить предложение</h3>\n            <p class=\"last-question__descr\">\n              Получите подборку подходящих для вас моделей на почту\n            </p>\n            <input\n              type=\"text\"\n              class=\"input last-question__input\"\n              placeholder=\"Ваше имя\"\n            />\n            <input\n              type=\"email\"\n              class=\"input last-question__input\"\n              placeholder=\"E-mail\"\n            />\n            <button class=\"btn btn_primary btn-reset last-question__btn\">\n              Получить\n            </button>\n            ${\n              lazyQuiz\n                ? `\n              <div class=\"last-question__decorate lozad\" data-background-image=\"img/iphone.png\" style=\"background-image: url(img/placeholder.svg)\"></div>\n            `\n                : `\n              <div class=\"last-question__decorate\" style=\"background-image: url(img/iphone.png)\"></div>\n            `\n            }\n          </div>\n        `;\n        lastQuestion.style.display = \"block\";\n\n        document.querySelector(\".quiz__title\").textContent =\n          \"Ваша подборка готова!\";\n        document.querySelector(\".quiz__descr\").textContent =\n          \"Оставьте свои контактные данные, чтобы бы мы могли отправить  подготовленный для вас каталог\";\n      }\n    }\n  }\n\n  events() {\n    this.$el.addEventListener(\"click\", (e) => {\n      if (e.target == document.querySelector(\"[data-next-btn]\")) {\n        lazyQuiz = false;\n        this.addToSend();\n        this.nextQuestion();\n      }\n\n      if (e.target == document.querySelector(\"[data-send]\")) {\n        this.send();\n      }\n    });\n\n    this.$el.addEventListener(\"change\", (e) => {\n      if (e.target.tagName == \"INPUT\") {\n        if (e.target.type !== \"checkbox\" && e.target.type !== \"radio\") {\n          let elements = this.$el.querySelectorAll(\"input\");\n\n          elements.forEach((el) => {\n            el.checked = false;\n          });\n        }\n        this.tmp = this.serialize(this.$el);\n      }\n    });\n  }\n\n  valid() {\n    let textarea = this.$el.querySelector(\"textarea\");\n    if (textarea) {\n      return true;\n    }\n    let isValid = false;\n\n    let elements = this.$el.querySelectorAll(\"input\");\n    elements.forEach((el) => {\n      switch (el.nodeName) {\n        case \"INPUT\":\n          switch (el.type) {\n            case \"text\":\n              isValid = true;\n              if (el.value) {\n                isValid = true;\n              } else {\n                el.classList.add(\"error\");\n              }\n            case \"checkbox\":\n              if (el.checked) {\n                isValid = true;\n              } else {\n                el.classList.add(\"error\");\n              }\n            case \"radio\":\n              if (el.checked) {\n                isValid = true;\n              } else {\n                el.classList.add(\"error\");\n              }\n          }\n      }\n    });\n\n    return isValid;\n  }\n\n  addToSend() {\n    this.resultArray.push(this.tmp);\n  }\n\n  send() {\n    if (this.valid()) {\n      const formData = new FormData();\n\n      for (let item of this.resultArray) {\n        for (let obj in item) {\n          formData.append(obj, item[obj].substring(0, item[obj].length - 1));\n        }\n      }\n\n      const response = fetch(\"mail.php\", {\n        method: \"POST\",\n        body: formData,\n      });\n    }\n  }\n\n  serialize(form) {\n    let field,\n      s = {};\n    let valueString = \"\";\n    if (typeof form == \"object\" && form.nodeName == \"FORM\") {\n      let len = form.elements.length;\n      for (let i = 0; i < len; i++) {\n        field = form.elements[i];\n\n        if (\n          field.name &&\n          !field.disabled &&\n          field.type != \"file\" &&\n          field.type != \"reset\" &&\n          field.type != \"submit\" &&\n          field.type != \"button\"\n        ) {\n          if (field.type == \"select-multiple\") {\n            for (j = form.elements[i].options.length - 1; j >= 0; j--) {\n              if (field.options[j].selected)\n                s[s.length] =\n                  encodeURIComponent(field.name) +\n                  \"=\" +\n                  encodeURIComponent(field.options[j].value);\n            }\n          } else if (\n            (field.type != \"checkbox\" &&\n              field.type != \"radio\" &&\n              field.value) ||\n            field.checked\n          ) {\n            valueString += field.value + \",\";\n\n            s[field.name] = valueString;\n          }\n        }\n      }\n    }\n    return s;\n  }\n}\n\nwindow.quiz = new Quiz(\".quiz-form .quiz-questions\", quizData, {\n  nextBtnText: \"Следующий шаг\",\n  sendBtnText: \"Отправить\",\n});\n","const rangeSlider = document.getElementById(\"range-slider\");\nlet minPrice = 99999,\n  maxPrice = 1;\n\nif (rangeSlider) {\n  const setRange = () => {\n    fetch(\"data/data-prods.json\")\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        let dataLength = data.length;\n\n        for (let i = 0; i < dataLength; i++) {\n          let item = data[i];\n\n          if (item.price > maxPrice) {\n            maxPrice = item.price;\n          } else if (item.price < minPrice) {\n            minPrice = item.price;\n          }\n        }\n\n        rangeSlider.noUiSlider.updateOptions({\n          range: {\n            min: minPrice,\n            max: maxPrice,\n          },\n        });\n\n        rangeSlider.noUiSlider.set([minPrice, maxPrice]);\n\n        getFilters();\n        reloadProducts();\n      });\n  };\n\n  noUiSlider.create(rangeSlider, {\n    start: [minPrice, minPrice],\n    connect: true,\n    step: 1,\n    range: {\n      min: minPrice,\n      max: maxPrice,\n    },\n  });\n\n  setRange();\n\n  const input0 = document.getElementById(\"input-0\");\n  const input1 = document.getElementById(\"input-1\");\n  const inputs = [input0, input1];\n\n  rangeSlider.noUiSlider.on(\"update\", function (values, handle) {\n    inputs[handle].value = Math.round(values[handle]).toLocaleString();\n  });\n\n  const setRangeSlider = (i, value) => {\n    let arr = [null, null];\n    arr[i] = value;\n    rangeSlider.noUiSlider.set(arr);\n  };\n\n  inputs.forEach((el, index) => {\n    el.addEventListener(\"change\", (e) => {\n      setRangeSlider(index, e.currentTarget.value);\n    });\n  });\n}\n","const sizesBtnsNodeList = document.querySelectorAll(\".sizes-table__btn\");\n\nif (sizesBtnsNodeList.length != 0) {\n  const sizesBtns = Array.prototype.slice.call(sizesBtnsNodeList);\n\n  sizesBtns.forEach((btn) => {\n    btn.addEventListener(\"click\", (e) => {\n      e.currentTarget.classList.toggle(\"sizes-table__btn_active\");\n    });\n  });\n}\n","document.querySelectorAll(`input[type=\"tel\"]`).forEach((el) => {\n  new Inputmask(\"+7 (999) 999-9999\").mask(el);\n});\n\nlet productsFormData = null;\n\nconst validateForms = function (\n  selector,\n  rules,\n  messages,\n  colorValue,\n  succesModal,\n  yaGoal\n) {\n  new window.JustValidate(selector, {\n    rules: rules,\n    messages: messages,\n    colorWrong: colorValue,\n    submitHandler: function (form) {\n      if (form.classList.contains(\"cart-modal__form\")) {\n        productsFormData = new FormData(form);\n        document\n          .querySelectorAll(\".cart-order__list .mini-cart__item\")\n          .forEach((el, index) => {\n            const title = document.querySelector(\n              \".mini-product__title\"\n            ).textContent;\n            const price = document.querySelector(\n              \".mini-product__price\"\n            ).textContent;\n            productsFormData.append(\n              `product-${index + 1}`,\n              `${title}, ${price}`\n            );\n          });\n        productsFormData.append(\n          \"summ\",\n          `${document.querySelector(\".cart-order__summ span\").textContent}`\n        );\n\n        const xhr = new XMLHttpRequest();\n\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n              console.log(\"Отправлено\");\n            }\n          }\n        };\n\n        xhr.open(\"POST\", \"mail.php\", true);\n        xhr.send(productsFormData);\n\n        form.reset();\n      } else {\n        const formData = new FormData(form);\n\n        const xhr = new XMLHttpRequest();\n\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n              console.log(\"Отправлено\");\n            }\n          }\n        };\n\n        xhr.open(\"POST\", \"../mail.php\", true);\n        xhr.send(formData);\n\n        form.reset();\n      }\n    },\n  });\n};\n\nvalidateForms(\n  \".callback-form\",\n  { name: { required: true }, phone: { required: true } },\n  {\n    name: { required: \"Вы должны ввести имя\" },\n    phone: { required: \"Вы должны ввести телефон\" },\n  },\n  getComputedStyle(document.documentElement).getPropertyValue(\"--color-accent\"),\n  \".thanks-popup\"\n);\n\nvalidateForms(\n  \".cart-modal__form\",\n  {\n    name: { required: true },\n    phone: { required: true },\n    email: { required: true, email: true },\n  },\n  {\n    name: { required: \"Вы должны ввести имя\" },\n    phone: { required: \"Вы должны ввести телефон\" },\n    email: {\n      required: \"Вы должны ввести email\",\n      email: \"Вы должны ввести корректный email\",\n    },\n  },\n  getComputedStyle(document.documentElement).getPropertyValue(\"--color-accent\"),\n  \".thanks-popup\"\n);\n","/**\n  * название функции\n  *\n  * @param {number} first - первое число\n  * @returns {number}\n  */\n"]}