"use strict";document.documentElement.style.setProperty("--vh","".concat(.01*window.innerHeight,"px"));var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}},ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");function isIE(){return(ua=navigator.userAgent).indexOf("MSIE ")>-1||ua.indexOf("Trident/")>-1}function ibg(){isIE()&&document.querySelectorAll("._ibg").forEach((function(e){e.querySelector("img")&&(e.style.backgroundImage="url("+e.querySelector("img").getAttribute("src")+")")}))}isIE()&&document.querySelector("html").classList.add("ie"),isMobile.any()&&document.querySelector("html").classList.add("_touch"),ibg(),window.onload=function(){document.addEventListener("click",(function(e){var t=e.target;window.innerWidth>768&&(t.classList.contains("nav__arrow")?t.closest(".nav__item").classList.toggle("_hover"):t.closest(".nav__item")||document.querySelectorAll(".nav__item._hover").forEach((function(e){e.classList.remove("_hover")})));var r=document.querySelector(".search-form");t.classList.contains("search-form__icon")?r.classList.toggle("_active"):!t.closest(".search-form")&&document.querySelector(".search-form._active")&&r.classList.remove("_active");t.classList.contains("products__more")&&getProducts(t);if(t.classList.contains("actions-product__btn")){var i=t.closest(".item-product").dataset.pid;addToCart(t,i)}t.classList.contains("cart-header__icon")?document.querySelector(".cart-list").children.length>0&&document.querySelector(".cart-header").classList.toggle("_active"):t.closest(".cart-header")||t.classList.contains("actions-product__btn")||document.querySelector(".cart-header").classList.remove("_active");t.classList.contains("cart-list__delete")&&updateCart(t,t.closest(".cart-list__item").dataset.cartPid,!1)}));var e=document.querySelector(".header");new IntersectionObserver((function(t){t[0].isIntersecting?e.classList.remove("_scroll"):e.classList.add("_scroll")})).observe(e),lightGallery(document.querySelector(".furniture__items"),{selector:"a",download:!1});var t=document.querySelector(".furniture__body");if(t&&!isMobile.any()){var r=function e(){var r=0;n.forEach((function(e){r+=e.offsetWidth}));var l=r-t.offsetWidth,d=Math.floor(c-a),u=l/200*(a+=d*s);i.style.cssText="transform: translate3d(".concat(-u,"px,0,0);"),Math.abs(d)>0&&!o.classList.contains("lg-show")?requestAnimationFrame(e):t.classList.remove("_init")},i=document.querySelector(".furniture__items"),n=document.querySelectorAll(".furniture__column"),o=document.querySelector(".lg-container  "),s=t.dataset.speed/100,a=0,c=0;t.addEventListener("mousemove",(function(e){c=(e.pageX-t.offsetWidth/2)/t.offsetWidth*200,t.classList.contains("_init")||(requestAnimationFrame(r),t.classList.add("_init"))}))}};var totalPrice=0;function addToCart(e,t){if(!e.disabled){e.setAttribute("disabled","disabled"),e.classList.add("_fly");var r=document.querySelector(".cart-header__icon"),i=document.querySelector('[data-pid="'.concat(t,'"]')).querySelector(".item-product__image"),n=i.cloneNode(!0);n.setAttribute("class","_flyImage _ibg"),n.style.cssText="\n      left: ".concat(i.getBoundingClientRect().left,"px;\n      top: ").concat(i.getBoundingClientRect().top,"px;\n      width: ").concat(i.offsetWidth,"px;\n      height: ").concat(i.offsetHeight,"px;\n    "),document.body.append(n),n.style.cssText="\n      left: ".concat(r.getBoundingClientRect().left,"px;\n      top: ").concat(r.getBoundingClientRect().top,"px;\n      width: 0px;\n      height: 0px;\n      opacity: 0;\n    "),n.addEventListener("transitionend",(function(){e.classList.contains("_fly")&&(n.remove(),updateCart(e,t),e.classList.remove("_fly"))}))}}function updateCart(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=document.querySelector(".cart-header"),n=i.querySelector(".cart-header__icon"),o=n.querySelector("span"),s=document.querySelector('[data-cart-pid="'.concat(t,'"]')),a=i.querySelector(".cart-header__list"),c=i.querySelector(".cart-header__total-price span");if(r){o?o.innerHTML=++o.innerHTML:n.insertAdjacentHTML("beforeend","<span>1</span>");var l=document.querySelector('[data-pid="'.concat(t,'"]')),d=l.querySelector(".item-product__price"),u=parseInt(d.querySelector("span").textContent.replace(/\./g,""));if(s){var p=s.querySelector(".cart-list__quantity span");p.innerHTML=++p.innerHTML;var _=s.querySelector(".cart-list__price span");_.innerHTML="Rp ".concat((p.innerHTML*u).toLocaleString("de-DE"))}else{var m=l.querySelector(".item-product__image").innerHTML,v=l.querySelector(".item-product__image").getAttribute("href"),g=l.querySelector(".item-product__title").textContent;a.insertAdjacentHTML("beforeend",'\n        <li data-cart-pid="'.concat(t,'" class="cart-list__item">\n          <a href="').concat(v,'" class="cart-list__image _ibg" tabindex="-1">\n            ').concat(m,'\n          </a>\n          <div class="cart-list__body">\n            <a href="').concat(v,'" class="cart-list__title">').concat(g,'</a>\n            <div class="cart-list__quantity">\n              Quantity: <span>1</span>\n            </div>\n            <div class="cart-list__price">\n              Price: <span>').concat(d.textContent,'</span>\n            </div>\n            <button class="cart-list__delete btn-reset">Delete</button>\n          </div>\n        </li>\n        '))}totalPrice+=u,e.removeAttribute("disabled"),n.removeAttribute("disabled")}else{var y=s.querySelector(".cart-list__quantity span");y.innerHTML=--y.innerHTML,parseInt(y.innerHTML)||s.remove();var f=--o.innerHTML,h=s.querySelector(".cart-list__price span"),b=h.innerHTML.split(" "),S=parseInt(b[b.length-1].replace(/\./g,"")/(parseInt(y.innerHTML)+1));h.innerHTML="Rp ".concat((parseInt(y.innerHTML)*S).toLocaleString("de-DE")),totalPrice-=S,f>0?o.innerHTML=f:(o.remove(),i.classList.remove("_active"),n.setAttribute("disabled","disabled"))}c.textContent="Rp ".concat(totalPrice.toLocaleString("de-DE"))}var productsToShow=4,shownProductsIds=[];function getProducts(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){if(e.disabled)return;e.setAttribute("disabled","disabled")}fetch("data/products.json",{method:"GET"}).then((function(t){t.ok?t.json().then((function(t){e&&e.removeAttribute("disabled"),shownProductsIds.length+productsToShow>=t.products.length?(loadProducts(t,t.products.length-shownProductsIds.length),document.querySelector(".products__footer").remove()):loadProducts(t,productsToShow)})):alert("products can't be loaded :(")}))}function loadProducts(e,t){var r=document.querySelector(".products__items"),i=e.settings.imagesLocation;e.products.every((function(e){if(-1!==shownProductsIds.indexOf(e.id))return!0;shownProductsIds.push(e.id);var n="";e.labels&&(n+='<div class="item-product__labels">',e.labels.forEach((function(e){n+='\n                  <div class="item-product__label item-product__label_'.concat(e.type,'">\n                    ').concat(e.value,"\n                  </div>\n        ")})),n+="</div>");var o="";e.priceOld&&(o='\n                <div class="item-product__price item-product__price_old">\n                  '.concat(e.currency," <span>").concat(e.priceOld,"</span>\n                </div>\n      ")),r.insertAdjacentHTML("beforeend",'\n        <article data-pid="'.concat(e.id,'" class="products__item item-product">\n          ').concat(n,'\n          <a tabindex="-1" href="').concat(e.url,'" class="item-product__image _ibg">\n            <img src="').concat(i+e.image,'" \n            alt="').concat(e.title,'" />\n          </a>\n          <div class="item-product__body">\n            <div class="item-product__content">\n              <a href="').concat(e.url,'" class="item-product__title">\n              ').concat(e.title,'</a>\n              <div class="item-product__text">').concat(e.text,'</div>\n            </div>\n            <div class="item-product__prices">\n              <div class="item-product__price">').concat(e.currency," \n              <span>").concat(e.price,"</span></div>\n              ").concat(o,'\n            </div>\n            <div class="item-product__actions actions-product">\n              <div class="actions-product__body">\n                <button\n                  class="btn-reset actions-product__btn btn btn_white"\n                >\n                  Add to cart\n                </button>\n                <a\n                  href="').concat(e.shareUrl,'"\n                  class="\n                    actions-product__link actions-product__link_share\n                  "\n                >\n                  <svg aria-hidden="true">\n                    <use href="img/sprite.svg#share"></use>\n                  </svg>\n                  Share\n                </a>\n                <a\n                  href="').concat(e.likeUrl,'"\n                  class="actions-product__link actions-product__link_like"\n                >\n                  <svg aria-hidden="true">\n                    <use href="img/sprite.svg#favorite"></use>\n                  </svg>\n                  Like\n                </a>\n              </div>\n            </div>\n          </div>\n        </article>\n    '));var s=r.querySelector('[data-pid="'.concat(e.id,'"] .actions-product__body'));return Array.from(s.children).forEach((function(e){e.addEventListener("focus",(function(){e.closest(".item-product__actions").classList.add("item-product__actions_active")}),!0),e.addEventListener("blur",(function(){e.closest(".item-product__actions").classList.remove("item-product__actions_active")}),!0)})),--t>0}))}getProducts();var spoilersArray=document.querySelectorAll("[data-spoilers]");if(spoilersArray.length>0){var initSpoilers=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.forEach((function(e){e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),initSpoilerBody(e),e.addEventListener("click",setSpoilerAction)):(e.classList.remove("_init"),initSpoilerBody(e,!1),e.removeEventListener("click",setSpoilerAction))}))},initSpoilerBody=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.querySelectorAll("[data-spoiler]");r.length>0&&r.forEach((function(e){t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.hasAttribute("data-tab-spoiler")||e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))},setSpoilerAction=function(e){var t=e.target;if(t.hasAttribute("data-spoiler")||t.closest("[data-spoiler]")){var r=t.hasAttribute("data-spoiler")?t:t.closest("[data-spoiler]"),i=r.closest("[data-spoilers]"),n=i.hasAttribute("data-one-spoiler");i.querySelectorAll("._slide").length||(n&&!r.classList.contains("_active")&&hideSpoilersBody(i),r.classList.toggle("_active"),_slideToggle(r.nextElementSibling,500)),e.preventDefault()}},hideSpoilersBody=function(e){var t=e.querySelector("[data-spoiler]._active");t&&(t.classList.remove("_active"),_slideUp(t.nextElementSibling,500))},spoilersRegular=Array.from(spoilersArray).filter((function(e){return!e.dataset.spoilers.split(",")[0]}));spoilersRegular.length>0&&initSpoilers(spoilersRegular);var spoilersMedia=Array.from(spoilersArray).filter((function(e){return e.dataset.spoilers.split(",")[0]}));if(spoilersMedia.length>0){var breakpointsArray=[];spoilersMedia.forEach((function(e){var t={},r=e.dataset.spoilers.split(",");t.value=r[0],t.type=r[1]?r[1].trim():"max",t.item=e,breakpointsArray.push(t)}));var mediaQueries=breakpointsArray.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));(mediaQueries=mediaQueries.filter((function(e,t,r){return r.indexOf(e)===t}))).forEach((function(e){var t=e.split(","),r=t[1],i=t[2],n=window.matchMedia(t[0]),o=breakpointsArray.filter((function(e){return e.value===r&&e.type===i}));n.addEventListener("change",(function(){initSpoilers(o,n)})),initSpoilers(o,n)}))}var _slideUp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((function(){e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},_slideDown=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);var r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}},_slideToggle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return e.hidden?_slideDown(e,t):_slideUp(e,t)}}if(document.querySelector(".slider-main__body")){var focusContent=function(){document.querySelectorAll(".slider-main__content").forEach((function(e){e.closest(".swiper-slide-active")?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1")}))},slider=new Swiper(".slider-main__body",{observer:!0,observeParents:!0,spaceBetween:32,watchOverflow:!0,speed:800,loop:!0,loopAdditionalSlides:5,preloadImages:!1,parallax:!0,pagination:{el:".controls-slider-main__dots",clickable:!0},navigation:{prevEl:".slider-main .slider-arrow_prev",nextEl:".slider-main .slider-arrow_next"}});focusContent(),slider.on("slideChangeTransitionStart",(function(){focusContent()}))}if(document.querySelector(".slider-rooms__body")){var _focusContent=function(){document.querySelectorAll(".slider-rooms__content").forEach((function(e){e.closest(".swiper-slide-active")?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1")}))},_slider=new Swiper(".slider-rooms__body",{observer:!0,observeParents:!0,spaceBetween:24,watchOverflow:!0,slidesPerView:"auto",speed:800,loop:!0,loopAdditionalSlides:5,preloadImages:!1,parallax:!0,pagination:{el:".slider-rooms__dots",clickable:!0},navigation:{prevEl:".slider-rooms .slider-arrow_prev",nextEl:".slider-rooms .slider-arrow_next"}});_focusContent(),_slider.on("slideChangeTransitionStart",(function(){_focusContent()}))}if(document.querySelector(".slider-tips__body"))var _slider2=new Swiper(".slider-tips__body",{observer:!0,observeParents:!0,watchOverflow:!0,speed:800,loop:!0,preloadImages:!1,pagination:{el:".slider-tips__dots",clickable:!0},navigation:{prevEl:".slider-tips .slider-arrow_prev",nextEl:".slider-tips .slider-arrow_next"},breakpoints:{320:{slidesPerView:1.1,spaceBetween:15},600:{slidesPerView:2,spaceBetween:20},992:{slidesPerView:3,spaceBetween:32}}});new window.JustValidate(".subscribe__form",{rules:{email:{required:!0,email:!0}},messages:{email:{required:"Вы должны ввести email",email:"Введите корректный email"}},submitHandler:function(e,t,r){console.log("submit")}}),document.querySelector(".burger").addEventListener("click",(function(e){e.currentTarget.classList.toggle("burger_active"),document.body.classList.toggle("_lock");var t=document.querySelector(".nav");t&&t.classList.toggle("_active")}));